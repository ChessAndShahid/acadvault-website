/* =======================================================
   AcadVault â€” Consolidated style.css (final, dark-mode fixes v2)
   ======================================================= */

/* 1. Variables */
:root{
  --bg: #F8FAFF;
  --surface: #FFFFFF;
  --card-bg: var(--surface);
  --card-border: rgba(15,23,36,0.04);
  --hero-surface: linear-gradient(180deg, var(--surface), rgba(255,255,255,0.98));

  --primary: #3C82F6;
  --primary-600: #0d6efd;
  --accent: #38BDF8;
  --muted: #64748B;
  --text: #0F1724;
  --footer-bg: #0F172A;
  --glass: rgba(255,255,255,0.6);
  --card-shadow: 0 12px 30px rgba(15,23,36,0.06);
  --radius-lg: 18px;
  --focus-ring: rgba(60,130,246,0.18);
}

:root[data-theme='dark']{
  --bg: #050d1a;
  --surface: #0a1629;
  --card-bg: #071827;
  --card-border: rgba(255,255,255,0.04);
  --hero-surface: linear-gradient(180deg, rgba(10,22,41,0.85), rgba(10,22,41,0.78));

  --primary: #3C82F6;
  --accent: #38BDF8;
  --muted: #9FB3C8;
  --text: #E6EDF3;
  --footer-bg: #04101f;
  --glass: rgba(255,255,255,0.04);
  --card-shadow: 0 18px 40px rgba(2,6,23,0.7);
  --focus-ring: rgba(56,189,248,0.22);
}

/* 2. Base / Reset */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto;
  color:var(--text);
  background:var(--bg);
  line-height:1.5;
  -webkit-font-smoothing:antialiased;
}
a{ color:var(--primary); text-decoration:none; }
a:hover{ text-decoration:underline; }
img{max-width:100%; height:auto; display:block;}

.muted { color: var(--muted); }

/* 3. Navbar */
.navbar{
  background: var(--surface);
  border-bottom: 1px solid rgba(15,23,36,0.04);
  padding: 10px 0;
  backdrop-filter: blur(6px);
  position:relative; z-index:1030;
}
.navbar-brand{ display:flex; align-items:center; gap:8px; color:var(--text); text-decoration:none; }
.navbar-brand, .navbar-brand a, .navbar-brand:visited, .navbar-brand:link { color: var(--text); }
.header-logo{ height:40px; width:auto; display:block; }

/* nav links */
.nav-link{ color:var(--text); opacity:0.92; padding:8px 10px; border-radius:8px; transition: background .14s ease, color .12s ease, transform .12s ease; display:inline-flex; align-items:center; }
.nav-link:hover, .nav-link:focus{ color:var(--primary); background: rgba(60,130,246,0.04); transform: translateY(-1px); }
.nav-link.active{ color:var(--primary); font-weight:600; background: rgba(60,130,246,0.06); }

/* toggler + buttons */
.navbar-toggler{ border:1px solid rgba(15,23,36,0.06); padding:6px; width:44px; height:44px; border-radius:8px; display:flex; align-items:center; justify-content:center; }
.navbar-toggler-icon{ filter:none; }
.navbar .btn{ padding:.45rem .6rem; border-radius:8px; font-size:.85rem; transition: transform .12s ease, box-shadow .12s ease; }
.navbar .btn:hover, .navbar .btn:focus{ transform:translateY(-2px); box-shadow:0 6px 18px rgba(13,110,253,0.08); }

/* focus */
.nav-link:focus-visible, .navbar .btn:focus-visible, .navbar-toggler:focus-visible{ outline: 3px solid var(--focus-ring); outline-offset:3px; border-radius:10px; }

@media (max-width:767px){
  .nav-link{ display:block; width:100%; padding:10px 6px; }
  .header-logo{ height:36px; }
}

/* 4. Layout */
.container-sm{ max-width:1200px; margin:0 auto; padding:0 16px; }

/* 5. Hero */
.hero-modern{ padding:72px 0; background: radial-gradient(600px 220px at 85% 30%, rgba(56,189,248,0.06), transparent 20%), linear-gradient(180deg, rgba(60,130,246,0.06), rgba(56,189,248,0.025) 40%, rgba(255,255,255,0)), var(--bg); color:var(--text); position:relative; overflow:visible; }
.hero-modern .container-sm{ max-width:1300px; padding-left:28px; padding-right:28px; }
.eyebrow{ letter-spacing:0.08em; color:var(--muted); text-transform:uppercase; font-size:12px; }
.hero-card{ background: var(--hero-surface); border-radius:var(--radius-lg); padding:22px; box-shadow:var(--card-shadow); align-items:center; min-height:220px; position:relative; z-index:1; display:flex; justify-content:center; }
.hero-card-inner{ display:flex; gap:16px; align-items:center; }
.hero-preview{ width:88px; height:88px; border-radius:10px; background:var(--glass); padding:8px; object-fit:contain; }
.qr-thumb img{ border-radius:8px; background:#fff; padding:6px; box-shadow:0 8px 18px rgba(15,23,36,0.06); }
.hero-stats{ display:flex; gap:18px; font-size:14px; color:var(--muted); }
.hero-stats strong{ font-size:18px; color:var(--text); font-weight:700; }
.hero-card::before{ content:""; position:absolute; right:8%; top:36%; width:360px; height:220px; background:radial-gradient(closest-side, rgba(60,130,246,0.08), rgba(56,189,248,0.03) 55%, transparent 70%); filter:blur(28px); transform:translate(10%, -10%); z-index:0; }

/* dark-mode hero adjustments */
:root[data-theme='dark'] .hero-modern{ background: radial-gradient(600px 220px at 85% 30%, rgba(56,189,248,0.04), transparent 18%), linear-gradient(180deg, rgba(15,23,36,0.08), rgba(7,16,34,0.02) 40%, rgba(7,16,34,0)), var(--bg); }
:root[data-theme='dark'] .hero-card::before{ background:radial-gradient(closest-side, rgba(60,130,246,0.06), rgba(56,189,248,0.02) 55%, transparent 70%); filter:blur(34px); }

/* 6. Cards / sections */
.card{ background:var(--card-bg); border:1px solid var(--card-border); border-radius:var(--radius-lg); transition:transform .18s ease, box-shadow .18s ease; color: inherit; }
.card:hover{ transform:translateY(-6px); box-shadow:var(--card-shadow); }
.section-title{ margin-bottom:20px; }

/* 7. Stats */
.stat-card{ background:var(--card-bg); border-radius:12px; box-shadow:var(--card-shadow); }
.stat-num{ font-size:22px; font-weight:700; color:var(--text); line-height:1; letter-spacing:-0.01em; }
.stat-label{ font-size:13px; color:var(--muted); margin-top:6px; }

/* Dark-mode reinforcement for stat numbers (ensures they win over .text-muted) */
:root[data-theme='dark'] .stat-num{ color:var(--text) !important; text-shadow: 0 1px 0 rgba(2,6,23,0.45); }

/* 8. Reveal */
.reveal{ opacity:0; transform:translateY(12px); transition:opacity 500ms ease, transform 500ms ease; will-change:opacity, transform; }
.reveal.revealed{ opacity:1; transform:none; }

/* 9. CTA (.bg-light) */
.bg-light{ background: var(--surface); color: var(--text); border-radius:12px; }
:root[data-theme='dark'] .bg-light{ background:#0f233d !important; color:var(--text) !important; border:1px solid rgba(255,255,255,0.06); box-shadow:0 10px 24px rgba(0,0,0,0.35); border-radius:14px; }
.bg-light .container{ padding-top:12px; padding-bottom:12px; }

/* 10. Footer */
footer{ background:var(--footer-bg); color:#ffffff; padding:18px 0; text-align:center; font-size:14px; }
:root[data-theme='dark'] footer{ background:#0a1528; border-top:1px solid rgba(56,189,248,0.12); color:#dbeaf9; }
/* Light-mode footer text fix */
:root:not([data-theme='dark']) footer, :root:not([data-theme='dark']) footer *, :root:not([data-theme='dark']) footer .text-muted { color:#ffffff !important; }

/* 11. Responsive */
@media (max-width:1199px){ .hero-modern .container-sm{ max-width:100%; padding-left:20px; padding-right:20px; } }
@media (max-width:991px){ .hero-modern{ padding:40px 0; } .hero-card{ margin-top:12px; } }
@media (max-width:575px){ .header-logo{ height:36px; } .hero-modern{ padding:28px 0; } }

/* 12. Reduced motion */
@media (prefers-reduced-motion:reduce){ .card, .navbar .btn, .reveal{ transition:none !important; transform:none !important; } }

/* 13. Accessibility / skip link */
.visually-hidden-focusable{ position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
.visually-hidden-focusable:focus, .visually-hidden-focusable:active{ position:static; width:auto; height:auto; margin:8px; padding:8px 12px; background:var(--card-bg); border-radius:6px; box-shadow:var(--card-shadow); z-index:1000; }

/* 14. Dark-mode nav / focus tweaks */
:root[data-theme='dark'] .navbar{ background:var(--surface) !important; border-bottom:1px solid rgba(255,255,255,0.06); }
:root[data-theme='dark'] .nav-link{ color:var(--text) !important; opacity:0.95; }
:root[data-theme='dark'] .nav-link:hover{ color:var(--accent) !important; background: rgba(56,189,248,0.03); }
:root[data-theme='dark'] .nav-link.active{ color:var(--primary) !important; background: rgba(60,130,246,0.06); }
:root[data-theme='dark'] .navbar-toggler-icon{ background-image:url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'>\
<path stroke='%23E6EDF3' stroke-linecap='round' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/>\
</svg>"); }
:root[data-theme='dark'] .navbar .btn{ border-color:rgba(255,255,255,0.06); color:var(--text) !important; background:transparent; }

/* stronger focus ring for dark */
:root[data-theme='dark'] .nav-link:focus-visible, :root[data-theme='dark'] .navbar .btn:focus-visible, :root[data-theme='dark'] .navbar-toggler:focus-visible{ outline:3px solid var(--focus-ring); outline-offset:3px; }

/* 15. Ensure .text-muted uses readable color in dark mode */
:root[data-theme='dark'] .text-muted,
:root[data-theme='dark'] .muted{
  color: var(--muted) !important;
  opacity: 0.95;
}

/* 16. Ensure primary content containers inherit readable text in dark mode */
:root[data-theme='dark'] .container,
:root[data-theme='dark'] .container-sm,
:root[data-theme='dark'] main,
:root[data-theme='dark'] section{
  color: var(--text);
}

/* 17. FORCE dark-mode readable text inside cards, CTA and faculty blocks */
:root[data-theme='dark'] .card,
:root[data-theme='dark'] .card * ,
:root[data-theme='dark'] .bg-light,
:root[data-theme='dark'] .bg-light * ,
:root[data-theme='dark'] .faculty-card,
:root[data-theme='dark'] .faculty-card * {
    color: var(--text) !important;
}

/* 18. Brand link/visited fix so clicking "AcadVault" doesn't turn it dark */
.navbar-brand, .navbar-brand a, .navbar-brand:visited, .navbar-brand:link{
  color:var(--text) !important;
  text-decoration:none;
}

/* small niceties for teacher names (common selectors used) */
.faculty-card .name, .teacher-name, .faculty .name, .card .fw-semibold, .card strong{
  color: inherit;
  font-weight:600;
}

/* end */
