<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Gallery â€” photos from R.D. & S.H. National College campus, events and labs." />
  <!-- Optional small SEO / preview meta (safe non-invasive) -->
  <meta name="theme-color" content="#0F1724" />
  <meta property="og:site_name" content="AcadVault">
  <meta property="og:type" content="website">
  <meta property="og:title" content="AcadVault â€” Secure Certificate Verification">
  <meta property="og:description" content="Securely issue and verify college certificates with tamper-evident QR codes and role-based controls.">
  <meta property="og:image" content="assets/img/logo.png">
  <meta name="twitter:card" content="summary_large_image">
  <title>Gallery â€” AcadVault</title>

  <!-- Performance: preconnect to Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Project CSS -->
  <link rel="stylesheet" href="assets/css/style.css">
  <style>
    /* small gallery-specific tweaks */
    .gallery-grid { display: grid; grid-template-columns: repeat(2,1fr); gap: 12px; }
    @media(min-width:768px){ .gallery-grid{ grid-template-columns: repeat(3,1fr); } }
    @media(min-width:1200px){ .gallery-grid{ grid-template-columns: repeat(4,1fr); } }

    .gallery-thumb{
      position:relative;
      overflow:hidden;
      border-radius:12px;
      cursor:pointer;
      background:var(--surface);
    }
    .gallery-thumb img{ width:100%; height:160px; object-fit:cover; display:block; transition:transform .25s ease; }
    .gallery-thumb:focus img,
    .gallery-thumb:hover img{ transform:scale(1.04); }

    /* Lightbox modal */
    .lb-backdrop{
      position:fixed; inset:0; display:none; align-items:center; justify-content:center;
      background:rgba(2,6,23,0.65); z-index:1200; padding:24px;
    }
    .lb-backdrop.open{ display:flex; }
    .lb-inner{ max-width:1100px; width:100%; max-height:90vh; position:relative; }
    .lb-img{ width:100%; height:calc(100vh - 160px); object-fit:contain; border-radius:8px; background:#000; display:block; }
    .lb-caption{ margin-top:8px; color:var(--muted); text-align:center; font-size:14px; }
    .lb-close, .lb-prev, .lb-next{
      position:absolute; top:8px; background:rgba(255,255,255,0.06); border:0; color:var(--text); padding:8px 10px; border-radius:8px;
    }
    .lb-close{ right:8px; }
    .lb-prev{ left:8px; top:50%; transform:translateY(-50%); }
    .lb-next{ right:8px; top:50%; transform:translateY(-50%); }
    .sr-only-vis{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
  </style>
</head>
<body>

  <!-- Skip link -->
  <a class="visually-hidden-focusable" href="#galleryContent">Skip to gallery</a>

  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm" role="navigation" aria-label="Primary navigation">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="index.html" aria-label="AcadVault home">
        <img src="assets/img/logo.png" alt="AcadVault logo" class="header-logo me-2" width="40" height="40" />
        <span class="fw-semibold">AcadVault</span>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain"
              aria-controls="navMain" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navMain">
        <ul class="navbar-nav ms-auto align-items-lg-center">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
          <li class="nav-item"><a class="nav-link" href="courses.html">Courses</a></li>
          <li class="nav-item"><a class="nav-link" href="faculty.html">Faculty</a></li>
          <li class="nav-item"><a class="nav-link active" href="gallery.html" aria-current="page">Gallery</a></li>
          <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>

          <li class="nav-item ms-2 d-flex align-items-center">
            <button id="themeToggle" class="btn btn-sm btn-outline-secondary me-2" aria-label="Toggle theme" title="Toggle light/dark" type="button" aria-pressed="false">ðŸŒ™</button>
            <a id="loginBtn" class="btn btn-outline-primary btn-sm" href="#" role="button">Login</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- GALLERY MAIN -->
  <main id="galleryContent" class="py-5">
    <div class="container container-sm">
      <header class="mb-4">
        <h1 class="display-6 mb-2 reveal">Campus Gallery</h1>
        <p class="text-muted reveal">Photos from campus life, labs, events and student activities.</p>
      </header>

      <section aria-label="Photo gallery">
        <div class="gallery-grid reveal" id="galleryGrid">

          <!-- repeat/replace these thumbnails with your images -->
          <button class="gallery-thumb" data-index="0" aria-describedby="cap-0" type="button">
            <img src="assets/img/gallery-1.jpg" alt="Students at the annual science exhibition" loading="lazy" width="600" height="400">
          </button>

          <button class="gallery-thumb" data-index="1" aria-describedby="cap-1" type="button">
            <img src="assets/img/gallery-2.jpg" alt="College auditorium during convocation" loading="lazy" width="600" height="400">
          </button>

          <button class="gallery-thumb" data-index="2" aria-describedby="cap-2" type="button">
            <img src="assets/img/gallery-3.jpg" alt="Computer lab session with students coding" loading="lazy" width="600" height="400">
          </button>

          <button class="gallery-thumb" data-index="3" aria-describedby="cap-3" type="button">
            <img src="assets/img/gallery-4.jpg" alt="Sports day â€” students running a relay race" loading="lazy" width="600" height="400">
          </button>

          <button class="gallery-thumb" data-index="4" aria-describedby="cap-4" type="button">
            <img src="assets/img/gallery-5.jpg" alt="Library interior showing study spaces" loading="lazy" width="600" height="400">
          </button>

          <button class="gallery-thumb" data-index="5" aria-describedby="cap-5" type="button">
            <img src="assets/img/gallery-6.jpg" alt="Faculty interacting in a departmental meeting" loading="lazy" width="600" height="400">
          </button>

          <button class="gallery-thumb" data-index="6" aria-describedby="cap-6" type="button">
            <img src="assets/img/gallery-7.jpg" alt="Workshop: robotics demonstration" loading="lazy" width="600" height="400">
          </button>

          <button class="gallery-thumb" data-index="7" aria-describedby="cap-7" type="button">
            <img src="assets/img/gallery-8.jpg" alt="Campus sunset view with students" loading="lazy" width="600" height="400">
          </button>

        </div>
      </section>

    </div>
  </main>

  <!-- LIGHTBOX (hidden until opened) -->
  <div class="lb-backdrop" id="lightbox" role="dialog" aria-modal="true" aria-label="Image viewer" tabindex="-1">
    <div class="lb-inner">
      <button class="lb-close" id="lbClose" aria-label="Close (Esc)">âœ•</button>
      <button class="lb-prev" id="lbPrev" aria-label="Previous image" title="Previous (â†)">â—€</button>
      <button class="lb-next" id="lbNext" aria-label="Next image" title="Next (â†’)">â–¶</button>
      <img src="" alt="" class="lb-img" id="lbImage" />
      <div class="lb-caption" id="lbCaption"></div>
      <span id="cap-0" class="sr-only-vis">Students at the annual science exhibition</span>
      <span id="cap-1" class="sr-only-vis">College auditorium during convocation</span>
      <span id="cap-2" class="sr-only-vis">Computer lab session with students coding</span>
      <span id="cap-3" class="sr-only-vis">Sports day â€” students running a relay race</span>
      <span id="cap-4" class="sr-only-vis">Library interior showing study spaces</span>
      <span id="cap-5" class="sr-only-vis">Faculty interacting in a departmental meeting</span>
      <span id="cap-6" class="sr-only-vis">Workshop: robotics demonstration</span>
      <span id="cap-7" class="sr-only-vis">Campus sunset view with students</span>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="text-center py-4">
    <div class="container">
      <p class="mb-1">Â© <span id="siteYear">2025</span> R.D. &amp; S.H. National College â€” AcadVault</p>
      <small class="text-muted">Built using Bootstrap + Firebase (Phase 2)</small>
    </div>
  </footer>

  <!-- Bootstrap JS bundle (deferred) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer></script>

  <!-- Project JS (deferred) -->
  <script src="assets/js/main.js" defer></script>

  <!-- Lightbox script (keeps behaviour on this page self-contained) -->
  <script>
    (function(){
      const thumbs = Array.from(document.querySelectorAll('.gallery-thumb'));
      const lightbox = document.getElementById('lightbox');
      const lbImage = document.getElementById('lbImage');
      const lbCaption = document.getElementById('lbCaption');
      const lbClose = document.getElementById('lbClose');
      const lbPrev = document.getElementById('lbPrev');
      const lbNext = document.getElementById('lbNext');
      let current = 0;

      const captions = [
        "Students at the annual science exhibition",
        "College auditorium during convocation",
        "Computer lab session with students coding",
        "Sports day â€” students running a relay race",
        "Library interior showing study spaces",
        "Faculty interacting in a departmental meeting",
        "Workshop: robotics demonstration",
        "Campus sunset view with students"
      ];

      function openAt(index){
        if(!thumbs[index] || !lbImage || !lightbox) return;
        const img = thumbs[index].querySelector('img');
        if(!img) return;
        // Use the same src (no-op regex removed)
        lbImage.src = img.src;
        lbImage.alt = img.alt || '';
        lbCaption.textContent = captions[index] || '';
        current = index;
        lightbox.classList.add('open');
        lightbox.focus();
      }

      function closeLB(){
        if(!lightbox) return;
        lightbox.classList.remove('open');
        if(lbImage) lbImage.src = '';
        // return focus to thumbnail (if exists)
        try { if(thumbs[current]) thumbs[current].focus(); } catch (e) {}
      }

      function next(){
        if(thumbs.length === 0) return;
        current = (current + 1) % thumbs.length;
        openAt(current);
      }
      function prev(){
        if(thumbs.length === 0) return;
        current = (current - 1 + thumbs.length) % thumbs.length;
        openAt(current);
      }

      thumbs.forEach((t, i)=>{
        // ensure button behaviour
        t.setAttribute('type','button');
        t.addEventListener('click', ()=> openAt(i));
        t.addEventListener('keydown', (e)=>{
          if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openAt(i); }
        });
      });

      if(lbClose) lbClose.addEventListener('click', closeLB);
      if(lbNext) lbNext.addEventListener('click', next);
      if(lbPrev) lbPrev.addEventListener('click', prev);

      // keyboard navigation
      document.addEventListener('keydown', (e)=>{
        if(!lightbox || !lightbox.classList.contains('open')) return;
        if(e.key === 'Escape') closeLB();
        if(e.key === 'ArrowRight') next();
        if(e.key === 'ArrowLeft') prev();
      });

      // close when clicking backdrop outside inner
      if(lightbox){
        lightbox.addEventListener('click', (e)=>{
          if(e.target === lightbox) closeLB();
        });
      }
    })();
  </script>

  <noscript>
    <style>
      .reveal { opacity: 1 !important; transform: none !important; }
    </style>
    <div class="container text-center py-2 small text-muted">JavaScript is disabled â€” gallery lightbox will not function.</div>
  </noscript>
</body>
</html>
